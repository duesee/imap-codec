[package]
name = "imap-codec-fuzz"
version = "0.0.0"
authors = ["Automatically generated"]
publish = false
edition = "2021"

[package.metadata]
cargo-fuzz = true

# Forward features according to ...
#    https://rust-fuzz.github.io/book/cargo-fuzz/guide.html#cargo-features
[features]
debug = []
starttls = ["imap-codec/starttls"]
ext_compress = ["imap-codec/ext_compress"]
ext_condstore_qresync = ["imap-codec/ext_condstore_qresync"]
ext_enable = ["imap-codec/ext_enable"]
ext_idle = ["imap-codec/ext_idle"]
ext_literal = ["imap-codec/ext_literal"]
ext_login_referrals = ["imap-codec/ext_login_referrals"]
ext_mailbox_referrals = ["imap-codec/ext_mailbox_referrals"]
ext_move = ["imap-codec/ext_move"]
ext_quota = ["imap-codec/ext_quota"]
ext_sasl_ir = ["imap-codec/ext_sasl_ir"]
ext_unselect = ["imap-codec/ext_unselect"]
# Use (most) IMAP extensions.
ext = [
    "starttls",
    "ext_compress",
    "ext_condstore_qresync",
    "ext_enable",
    "ext_idle",
    "ext_literal",
    #"ext_login_referrals",
    #"ext_mailbox_referrals",
    "ext_move",
    "ext_quota",
    "ext_sasl_ir",
    "ext_unselect",
]
quirk_crlf_relaxed = ["imap-codec/quirk_crlf_relaxed"]

[dependencies]
libfuzzer-sys = "0.4"
imap-codec = { path = "..", features = ["arbitrary"] }

[[bin]]
name = "greeting"
path = "fuzz_targets/greeting.rs"
test = false
doc = false

[[bin]]
name = "command"
path = "fuzz_targets/command.rs"
test = false
doc = false

[[bin]]
name = "response"
path = "fuzz_targets/response.rs"
test = false
doc = false

[[bin]]
name = "greeting_to_bytes_and_back"
path = "fuzz_targets/greeting_to_bytes_and_back.rs"
test = false
doc = false

[[bin]]
name = "command_to_bytes_and_back"
path = "fuzz_targets/command_to_bytes_and_back.rs"
test = false
doc = false

[[bin]]
name = "response_to_bytes_and_back"
path = "fuzz_targets/response_to_bytes_and_back.rs"
test = false
doc = false
